<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.37">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>28&nbsp; Comprehensive evaluation methods – R for Medical Statistics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./community-intervention.html" rel="next">
<link href="./multilevel-model.html" rel="prev">
<link href="./favicon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-29e2c20b02301cfff04dc8050bf30c7e.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-43df0d6f53b733b42d37fa7808e17715.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-218caa77794a2cebf88bf41099f21b16.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-612253c927da9ed618098f132c689ac9.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="site_libs/vis-9.1.0/vis-network.min.js"></script>
<script src="site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script>
<script src="site_libs/viz-1.8.2/viz.js"></script>
<link href="site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="site_libs/grViz-binding-1.0.11/grViz.js"></script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./advanced-stat.html">Advanced methods</a></li><li class="breadcrumb-item"><a href="./comprehensive-evaluation.html"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Comprehensive evaluation methods</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">R for Medical Statistics</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://qbgaoo.github.io/r4ms" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-git"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preface</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./basic-stat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basic methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quat-data-statdesc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Statistical description of quantitative data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./normal-distribution.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Normal distribution</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./statistical-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Statistical inference</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hypothesis-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Hypothesis test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ttest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">t-test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Analysis of Variance</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./count-data-statdesc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Statistical description of count data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discrete-data-dist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Distributions of discrete variables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chi-square-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Chi-square test</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./nonparametric-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Nonparametric Tests</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./regression-correlation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Bivariate regression and correlation</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./advanced-stat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Advanced methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multifactor-anova.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Multifactor ANOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./repeated-measurement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Repeated measures ANOVA</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./general-linear-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">General linear model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multivariate-groups-diff.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Multivariate data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multiple-linear-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Multiple linear regression analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./logistic-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Logistic regression analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./generalized-linear-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Generalized linear model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./survival-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Survival analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cluster-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Cluster analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discriminant-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Discriminant analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pca-factor-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Principal components and factor analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./canonical-correlation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Canonical correlation analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./structural-equation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Structural equation model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multilevel-model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Multilevel model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./comprehensive-evaluation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Comprehensive evaluation methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./community-intervention.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Community intervention trials</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./scale-develop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">30</span>&nbsp; <span class="chapter-title">Medical scales</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./meta-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">31</span>&nbsp; <span class="chapter-title">Meta analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./general-estimat-equation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">32</span>&nbsp; <span class="chapter-title">Generalized estimating equation</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./practical-skills.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Practical skills</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-preprocess.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">33</span>&nbsp; <span class="chapter-title">Data preprocessing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./random-sampling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">34</span>&nbsp; <span class="chapter-title">Random sampling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./randomization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">35</span>&nbsp; <span class="chapter-title">Randomization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sample-size.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">36</span>&nbsp; <span class="chapter-title">Sample size estimation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pilot-project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">37</span>&nbsp; <span class="chapter-title">A case to analyze</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quarto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">38</span>&nbsp; <span class="chapter-title">Quarto</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./memo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">39</span>&nbsp; <span class="chapter-title">Memo for future programming</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#prerequisite" id="toc-prerequisite" class="nav-link active" data-scroll-target="#prerequisite"><span class="header-section-number">28.1</span> Prerequisite</a></li>
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview"><span class="header-section-number">28.2</span> Overview</a>
  <ul class="collapse">
  <li><a href="#classifications-of-comprehensive-evaluation" id="toc-classifications-of-comprehensive-evaluation" class="nav-link" data-scroll-target="#classifications-of-comprehensive-evaluation"><span class="header-section-number">28.2.1</span> Classifications of comprehensive evaluation</a></li>
  <li><a href="#steps-for-evaluation" id="toc-steps-for-evaluation" class="nav-link" data-scroll-target="#steps-for-evaluation"><span class="header-section-number">28.2.2</span> Steps for evaluation</a></li>
  <li><a href="#indicators-selection" id="toc-indicators-selection" class="nav-link" data-scroll-target="#indicators-selection"><span class="header-section-number">28.2.3</span> Indicators selection</a></li>
  <li><a href="#indicator-weights-estimation" id="toc-indicator-weights-estimation" class="nav-link" data-scroll-target="#indicator-weights-estimation"><span class="header-section-number">28.2.4</span> Indicator weights estimation</a></li>
  </ul></li>
  <li><a href="#comprehensive-scoring-method" id="toc-comprehensive-scoring-method" class="nav-link" data-scroll-target="#comprehensive-scoring-method"><span class="header-section-number">28.3</span> Comprehensive scoring method</a></li>
  <li><a href="#comprehensive-index-method" id="toc-comprehensive-index-method" class="nav-link" data-scroll-target="#comprehensive-index-method"><span class="header-section-number">28.4</span> Comprehensive index method</a></li>
  <li><a href="#analytic-hierarchy-process" id="toc-analytic-hierarchy-process" class="nav-link" data-scroll-target="#analytic-hierarchy-process"><span class="header-section-number">28.5</span> Analytic hierarchy process</a></li>
  <li><a href="#topsis" id="toc-topsis" class="nav-link" data-scroll-target="#topsis"><span class="header-section-number">28.6</span> TOPSIS</a></li>
  <li><a href="#rank-sum-ratio" id="toc-rank-sum-ratio" class="nav-link" data-scroll-target="#rank-sum-ratio"><span class="header-section-number">28.7</span> Rank sum ratio</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://qbgaoo.github.io/r4ms/edit/main/comprehensive-evaluation.qmd" class="toc-action"><i class="bi bi-git"></i>Edit this page</a></li><li><a href="https://qbgaoo.github.io/r4ms/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./advanced-stat.html">Advanced methods</a></li><li class="breadcrumb-item"><a href="./comprehensive-evaluation.html"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Comprehensive evaluation methods</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Comprehensive evaluation methods</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Comprehensive evaluation methods are a set of techniques used to assess complex systems or subjects by integrating multiple indicators or criteria into a single evaluation. This type of evaluation is often used in complex contexts where different factors contribute to the outcome, making a holistic measure more informative than individual indicators alone. These methods are especially useful for evaluating patient health, treatment efficacy and healthcare quality.</p>
<section id="prerequisite" class="level2" data-number="28.1">
<h2 data-number="28.1" class="anchored" data-anchor-id="prerequisite"><span class="header-section-number">28.1</span> Prerequisite</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(visNetwork)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ahp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="overview" class="level2" data-number="28.2">
<h2 data-number="28.2" class="anchored" data-anchor-id="overview"><span class="header-section-number">28.2</span> Overview</h2>
<section id="classifications-of-comprehensive-evaluation" class="level3" data-number="28.2.1">
<h3 data-number="28.2.1" class="anchored" data-anchor-id="classifications-of-comprehensive-evaluation"><span class="header-section-number">28.2.1</span> Classifications of comprehensive evaluation</h3>
<p>Comprehensive evaluation methods can be classified based on different criteria. Here are some common classifications:</p>
<ol type="1">
<li>Based on data type</li>
</ol>
<p>Quantitative evaluation: Uses numerical data to calculate scores, often involving statistical or mathematical techniques. Common methods include the weighted sum model, analytic hierarchy process, and principal component analysis.</p>
<p>Qualitative evaluation: Relies on non-numerical data, often from expert judgments or subjective opinions. Methods like the Delphi method, expert scoring, and case studies are typically used.</p>
<p>Mixed methods evaluation: Combines quantitative and qualitative data to provide a more complete assessment. Examples include the comprehensive scoring method and fuzzy comprehensive evaluation.</p>
<ol start="2" type="1">
<li>Based on evaluation objective</li>
</ol>
<p>Single-objective evaluation: Focuses on one primary goal, such as cost reduction or quality improvement. It’s commonly used in specific project evaluations or performance assessments.</p>
<p>Multi-objective evaluation: Assesses multiple objectives or criteria simultaneously, such as cost, quality, and efficiency. Methods include the Weighted Scoring Method, analytic hierarchy process, and grey relational analysis.</p>
<ol start="3" type="1">
<li>Based on model structure</li>
</ol>
<p>Additive models: Use additive techniques, where scores for different criteria are weighted and summed to obtain a final score. The weighted sum model is an example.</p>
<p>Multiplicative models: Combine criteria by multiplication, which can be effective when criteria are dependent. For example, multiplicative utility functions are sometimes used in economic and decision analysis.</p>
<p>Hybrid models: Use both additive and multiplicative elements or other transformations to aggregate scores. Fuzzy comprehensive evaluation often combines both approaches.</p>
<ol start="4" type="1">
<li>Based on weighting mechanism</li>
</ol>
<p>Equal weighting: All criteria are given the same weight, often used when there is no clear prioritization among criteria.</p>
<p>Subjective Weighting: Weights are determined based on expert judgment or subjective preferences, such as in Delphi studies or scoring based on stakeholder input.</p>
<p>Objective Weighting: Weights are determined based on the variability or statistical properties of the data, such as in entropy weighting and principal component analysis.</p>
<ol start="5" type="1">
<li><strong>Based on complexity</strong></li>
</ol>
<p>Simple scoring models: Use straightforward calculations, like the weighted Sum Model, suitable for cases with fewer criteria and simpler data.</p>
<p>Complex multi-criteria decision models: Involve more advanced mathematical and statistical techniques, such as analytic hierarchy process, fuzzy comprehensive evaluation, and grey relational analysis, suitable for complex, large-scale evaluations with interrelated criteria.</p>
</section>
<section id="steps-for-evaluation" class="level3" data-number="28.2.2">
<h3 data-number="28.2.2" class="anchored" data-anchor-id="steps-for-evaluation"><span class="header-section-number">28.2.2</span> Steps for evaluation</h3>
<p>The process of comprehensive evaluation typically follows these key steps, which help ensure that the evaluation is systematic, reliable, and meaningful.</p>
<ol type="1">
<li><p>Define the evaluation objective and criteria</p>
<p>Clearly outline the goal of the evaluation, such as assessing healthcare quality, treatment effectiveness, or patient satisfaction. Identify and define the specific criteria or indicators that will be evaluated. For instance, in healthcare, these could include mortality rates, patient recovery times, or resource utilization.</p></li>
<li><p>Select or design the evaluation method</p>
<p>Choose an appropriate evaluation method based on the data type, goal, and context. Define how each criterion will be measured and, if needed, create a scoring scale for qualitative criteria.</p></li>
<li><p>Collect and standardize data</p>
<p>Gather data for each criterion across all entities or individuals being evaluated (e.g., hospitals, patients). Standardize the data if indicators are measured on different scales, such as z-scores or min-max normalization. This ensures comparability across criteria.</p></li>
<li><p>Determine the weight of each criterion</p>
<p>Assign weights to each criterion to reflect its relative importance. Weights can be determined using methods like expert judgment, entropy method, or analytic hierarchy process (AHP). In some cases, all criteria may be weighted equally, depending on the evaluation objective.</p></li>
<li><p>Calculate the composite score</p>
<p>Using the selected evaluation method, calculate the synthetic (composite) score for each entity by combining the weighted criteria scores. Methods such as weighted sum or TOPSIS involve aggregating the scores, while PCA involve transformation or efficiency measures.</p></li>
<li><p>Analyze and rank results</p>
<p>Interpret the scores to rank or categorize the entities based on their performance or risk. For example, high composite scores might indicate high-quality healthcare facilities, while lower scores may indicate areas needing improvement.</p></li>
<li><p>Validate the results</p>
<p>Check the consistency and reliability of the results through sensitivity analysis or validation with external data if available. Ensure that the scores align with real-world expectations and that the weighting and criteria selection do not introduce bias.</p></li>
<li><p>Report and make recommendations</p>
<p>Present the results in a clear format, using visual aids like tables, charts, or maps if necessary. Provide actionable insights or recommendations based on the evaluation. For instance, high-ranking facilities can serve as models, while lower-ranking ones can target specific areas for improvement.</p></li>
</ol>
<p>Each step is essential in creating a robust, transparent, and actionable synthetic evaluation. These evaluations provide a holistic view, supporting decision-makers in fields like healthcare, education, and public policy.</p>
</section>
<section id="indicators-selection" class="level3" data-number="28.2.3">
<h3 data-number="28.2.3" class="anchored" data-anchor-id="indicators-selection"><span class="header-section-number">28.2.3</span> Indicators selection</h3>
<p>The selection of evaluation indicators is crucial to ensure that assessments are accurate, relevant, and actionable. The process typically involves several steps to ensure that chosen indicators align with the objectives of the evaluation and reflect important dimensions of the program.</p>
<p>Here are some commonly used methods to ensure that selected indicators are robust, meaningful, and actionable:</p>
<ol type="1">
<li>Literature review</li>
</ol>
<p>Identifying commonly used indicators from published studies, reviews, or meta-analyses in related fields. This provides a foundation of validated indicators that have proven effective. This is effective as an initial selection method to identify potential indicators and ensure consistency with existing research standards.</p>
<ol start="2" type="1">
<li>Delphi method</li>
</ol>
<p>A structured, iterative approach using expert panels to gain consensus on the most relevant indicators through multiple rounds of surveys. This i useful when expert consensus is required, especially when indicators are subjective or context-specific, such as patient-reported outcomes or community health metrics. Surveys and rounds of consensus-building, often conducted manually or through survey software.</p>
<ol start="3" type="1">
<li>Correlation analysis</li>
</ol>
<p>Examines the correlation between potential indicators and the target outcome, removing indicators with low correlation or multicollinearity. R functions like <code>cor()</code> for correlation matrices and <code>cor.test()</code> for testing significance.</p>
<ol start="4" type="1">
<li>Factor analysis or PCA</li>
</ol>
<p>Reduces the dimensionality of indicator sets, grouping them based on shared variance and identifying key factors or principal components. This is suitable for identifying core indicators in large datasets where indicators might overlap in meaning or measure similar constructs. The <code>prcomp()</code> for PCA, <code>factanal()</code> for factor analysis, and <code>PCA()</code> from the FactoMineR package.</p>
<ol start="5" type="1">
<li>Regression analysis</li>
</ol>
<p>Using linear or logistic regression models to identify indicators that significantly predict a target outcome. Indicators with insignificant or low coefficients may be excluded. This is effective when evaluating predictive power for a specific outcome, often used in epidemiological or clinical research. R functions like <code>lm()</code> and <code>glm()</code> for linear or logistic regression.</p>
<ol start="6" type="1">
<li>Entropy method</li>
</ol>
<p>An objective approach based on information entropy, where indicators with high information variability (entropy) are prioritized. This is useful when unbiased, data-driven indicator selection is required, commonly in fields like environmental health or social sciences. You can use <code>entropy()</code> function from the <code>infotheo</code> package to calculate entropy.</p>
<ol start="7" type="1">
<li>Indicator scoring and ranking</li>
</ol>
<p>Indicators are scored and ranked based on pre-defined criteria (e.g., relevance, reliability, cost-effectiveness), sometimes using weighted scores. This is frequently used in public health assessments, allowing for balanced consideration of multiple selection criteria. Scoring and ranking can be implemented by creating score functions or using simple calculations.</p>
<ol start="8" type="1">
<li>Sensitivity analysis</li>
</ol>
<p>Evaluates how changes in indicators affect the outcome, helping to determine the indicators that most influence results. This is applied in risk assessments and health economics to filter out indicators with minimal influence on the evaluation system. You can use the sensitivity analysis packages like <code>sensitivity</code>.</p>
<ol start="9" type="1">
<li>Cluster analysis</li>
</ol>
<p>Groups similar indicators into clusters, allowing the selection of representative indicators from each cluster. This is particularly useful when working with a high number of indicators with similar characteristics, often in large-scale health studies. You can use the <code>kmeans()</code> function for k-means clustering or <code>hclust()</code> for hierarchical clustering.</p>
<p>Each method has specific advantages and is chosen based on factors like the complexity of the evaluation, data availability, stakeholder involvement, and the evaluation’s objectives. Often, a combination of these methods is used to ensure a thorough and well-rounded selection process.</p>
</section>
<section id="indicator-weights-estimation" class="level3" data-number="28.2.4">
<h3 data-number="28.2.4" class="anchored" data-anchor-id="indicator-weights-estimation"><span class="header-section-number">28.2.4</span> Indicator weights estimation</h3>
<p>The estimation of weights for comprehensive evaluation indicators is essential in multi-criteria decision-making, public health assessments, and clinical research, as it ensures the relative importance of each indicator is accurately reflected. Here are common methods for estimating these weights:</p>
<ol type="1">
<li>Analytic hierarchy process</li>
</ol>
<p>In analytic hierarchy process, indicators are compared pairwise based on expert judgment. Each comparison provides a relative importance score, from which a matrix is constructed. Eigenvalues and eigenvectors of this matrix are used to derive indicator weights. This is often used in complex decision-making scenarios where expert opinions are available, such as healthcare assessments. R packages like <code>ahpsurvey</code> or manually calculating eigenvectors can implement AHP.</p>
<ol start="2" type="1">
<li>Delphi method</li>
</ol>
<p>Experts estimate weights through a structured, multi-round feedback process. Each round refines the weights based on group feedback until consensus is reached. This is useful for subjective or context-specific indicators, particularly when consensus is necessary (e.g., community health metrics). It is typically conducted through surveys.</p>
<ol start="3" type="1">
<li>Entropy weight method</li>
</ol>
<p>This objective method calculates entropy based on indicator variability. Indicators with greater variability (higher entropy) contribute more information and receive higher weights. This method is effective for objective weighting in studies where variability reflects importance, like environmental health or epidemiology.</p>
<ol start="4" type="1">
<li>Regression coefficient method</li>
</ol>
<p>In this method, indicators are regressed against an outcome variable. The resulting regression coefficients are standardized to obtain weights, with larger coefficients indicating greater influence. This method is useful when a target outcome exists (e.g., mortality rate) and can be predicted by the indicators.</p>
<ol start="5" type="1">
<li>Data envelopment analysis</li>
</ol>
<p>Data envelopment analysis calculates efficiency scores based on the optimization of each observation relative to others. Weights are derived based on the efficiency maximization process. This method is commonly used in performance and efficiency studies, such as hospital productivity evaluations. The function <code>dea()</code> from the <code>Benchmarking</code> package can be used for this purpose.</p>
<ol start="6" type="1">
<li>Weighted scoring or weighted sum model</li>
</ol>
<p>Weights are assigned based on expert judgment or historical data, with the final score being a weighted sum of indicators. This method is often applied in decision-making scenarios where indicators have known relative importance.</p>
<ol start="7" type="1">
<li>Principal component analysis</li>
</ol>
<p>Principal component analysis (PCA) identifies the main components that explain the most variance in the data, which are then used to derive indicator weights based on component loadings. This method is suitable for large datasets where indicators may overlap in information; used widely in epidemiology and psychology.</p>
<ol start="8" type="1">
<li>Factor analysis</li>
</ol>
<p>Similar to PCA but with latent factors that group related indicators. Weights are derived from factor loadings, reflecting the relative importance of each indicator within factors. This method is applied when indicators are believed to correlate, such as in psychological or socio-economic assessments.</p>
<ol start="9" type="1">
<li>Simple equal weights (uniform weighting)</li>
</ol>
<p>When all indicators are considered equally important, each indicator is assigned the same weight. This approach is straightforward and minimizes bias when there’s no clear rationale for differentiation. This is useful as a baseline method in exploratory studies or when no weight differentiation is justified.</p>
<p>Selecting the right method depends on the availability of data, the need for subjective versus objective weighting, and the specific goals of the evaluation.</p>
<p>There are several functions and packages are available to support indicator selection and weight estimation for comprehensive evaluation:</p>
<p>There are several functions from <code>MCAD</code> package, such as <code>weightedSum()</code>, <code>weightedProduct()</code>, <code>AHP()</code> and <code>TOPSIS()</code> are used to apply weights to indicators and aggregate them based on MCDA criteria.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">hospital =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>),</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">patient_satisfaction =</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">85</span>, <span class="dv">90</span>),   <span class="co"># scale 0-100</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">treatment_success =</span> <span class="fu">c</span>(<span class="dv">70</span>, <span class="dv">75</span>, <span class="dv">95</span>),      <span class="co"># scale 0-100</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">readmission_rate =</span> <span class="fu">c</span>(<span class="fl">0.15</span>, <span class="fl">0.10</span>, <span class="fl">0.05</span>), <span class="co"># scale 0-1, lower is better</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">row.names =</span> <span class="dv">1</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.3</span>, <span class="fl">0.5</span>, <span class="fl">0.2</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>MCDA<span class="sc">::</span><span class="fu">weightedSum</span>(data, weights)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="comprehensive-scoring-method" class="level2" data-number="28.3">
<h2 data-number="28.3" class="anchored" data-anchor-id="comprehensive-scoring-method"><span class="header-section-number">28.3</span> Comprehensive scoring method</h2>
<p>Comprehensive scoring method, or weighted sum model, is a commonly used technique in evaluation and decision-making. This method allows for a synthetic assessment by combining multiple criteria into a single score.</p>
<p>In comprehensive evaluations, different scoring methods are applied based on the context and characteristics of the indicators. Here are some commonly used methods:</p>
<ol type="1">
<li><p>Cumulative addition method: Adds up the raw scores of each indicator to obtain a total score. Best suited for cases where all indicators share the same units and are of equal or similar importance.</p>
<p><span class="math display">
\text{Score} = \sum_{i=1}^{n} X_i
</span>where <span class="math inline">X_i</span> is the score for the <span class="math inline">i</span>-th indicator.</p></li>
<li><p>Multiplicative method: Multiplies the raw scores of each indicator to produce the total score, emphasizing the interdependence of indicators. Used when high scores are required across all indicators to achieve a high overall score (e.g., if any indicator score is zero, the total score becomes zero).</p></li>
</ol>
<p><span class="math display">
\text{Score} = \prod_{i=1}^{n} X_i
</span></p>
<ol start="3" type="1">
<li><p>Additive-multiplicative method: Combines addition and multiplication, where certain indicators are added together and others are multiplied. Suitable for grouped weighting or where different sets of indicators have distinct weight considerations.</p>
<p><span class="math display">
\text{Score} = (X_1 + X_2) \times (X_3 + X_4)
</span></p>
<p>or</p>
<p><span class="math display">
\text{Score} = X_1 \times X_2 + X_3 \times X_4
</span></p></li>
<li><p>Weighted addition method: Assigns a weight to each indicator and calculates the weighted sum of the scores. Ideal for cases where indicators have varying levels of importance, making this one of the most widely used methods.</p>
<p><span class="math display">
\text{Score} = \sum_{i=1}^{n} W_i \times X_i
</span></p>
<p>where <span class="math inline">W_i</span> is the weight of the <span class="math inline">i</span>-th indicator and <span class="math inline">X_i</span> is its score.</p></li>
<li><p>Weighted additive-multiplicative method: Combines weighted addition and multiplication, where more heavily weighted indicators are multiplied, and less significant indicators are added, yielding a total score that reflects both weighting and indicator group characteristics. Applied in cases with clear weight disparities across groups of indicators.</p>
<p><span class="math display">
\text{Score} = (W_1 \times X_1 \times X_2) + (W_2 \times X_3)
</span></p></li>
</ol>
<p>where <span class="math inline">W_1</span> and <span class="math inline">W_2</span> are the weights for different groups of indicators.</p>
<p>Cumulative Addition is ideal for straightforward summing but may fail to account for differences across indicators. Multiplicative Method is suitable for situations where the dependency among indicators is crucial, especially when a low score in one indicator significantly impacts the total. Weighted Addition Method is the most commonly used, particularly in scenarios with clear weight distribution across indicators. Weighted Additive-Multiplicative Method works well for cases where groups of indicators have distinct weights, balancing both additive and multiplicative effects. Selecting the best method according to the evaluation goals and specific circumstances ensures that the results are both reasonable and scientifically valid.</p>
<p>Here’s an example to calculate the comprehensive score for hospitals based on three criteria.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>tb <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">hospital =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>),</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">patient_satisfaction =</span> <span class="fu">c</span>(<span class="dv">80</span>, <span class="dv">85</span>, <span class="dv">90</span>),   <span class="co"># scale 0-100</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">treatment_success =</span> <span class="fu">c</span>(<span class="dv">70</span>, <span class="dv">75</span>, <span class="dv">95</span>),      <span class="co"># scale 0-100</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">readmission_rate =</span> <span class="fu">c</span>(<span class="fl">0.15</span>, <span class="fl">0.10</span>, <span class="fl">0.05</span>), <span class="co"># scale 0-1, lower is better</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">row.names =</span> <span class="dv">1</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.4</span>, <span class="fl">0.4</span>, <span class="fl">0.2</span>) <span class="co"># sum should equal 1</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">|&gt;</span> </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">readmission_rate =</span> (<span class="dv">1</span> <span class="sc">-</span> readmission_rate) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span>   <span class="co"># scale 0-100</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    MCDA<span class="sc">::</span><span class="fu">weightedSum</span>(weights)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;  A  B  C 
#&gt; 77 82 93</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>tb <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">readmission_rate =</span> (<span class="dv">1</span> <span class="sc">-</span> readmission_rate) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">|&gt;</span>   <span class="co"># scale 0-100</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">apply</span>(<span class="dv">1</span>, \(x) <span class="fu">sum</span>(x <span class="sc">*</span> weights))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;  A  B  C 
#&gt; 77 82 93</code></pre>
</div>
</div>
</section>
<section id="comprehensive-index-method" class="level2" data-number="28.4">
<h2 data-number="28.4" class="anchored" data-anchor-id="comprehensive-index-method"><span class="header-section-number">28.4</span> Comprehensive index method</h2>
<p>The comprehensive index method, also known as the synthetic index method, is commonly used for multi-criteria evaluation by calculating an overall score or index that reflects the performance across various indicators. This method is widely used in fields like healthcare, environmental studies, and social sciences to assess overall quality, risk, or effectiveness.</p>
<p>For example , the hospital work efficiency index (HWEI) is a metric used to evaluate the productivity and efficiency of hospital operations. This index typically integrates several performance indicators, including resource utilization, service quality, and operational costs, to provide a holistic measure of a hospital’s effectiveness in delivering healthcare.</p>
<p>The specific formula for the HWEI may vary depending on available data and organizational priorities, but it generally involves aggregating weighted scores for each component. Assume you have a data for three hospitals, with indicators normalized on a scale from 0 to 1:</p>
<ol type="1">
<li>Resource utilization score (e.g., occupancy rates and equipment usage)</li>
<li>Service quality score (e.g., patient satisfaction, readmission rates)</li>
<li>Cost efficiency score (e.g., cost per patient and cost per unit revenue)</li>
</ol>
<p>Here’s how you might calculate a HWEI:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Hospital =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>),</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">Resource_Utilization =</span> <span class="fu">c</span>(<span class="fl">0.8</span>, <span class="fl">0.7</span>, <span class="fl">0.9</span>),</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">Service_Quality =</span> <span class="fu">c</span>(<span class="fl">0.85</span>, <span class="fl">0.65</span>, <span class="fl">0.9</span>),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Cost_Efficiency =</span> <span class="fu">c</span>(<span class="fl">0.75</span>, <span class="fl">0.8</span>, <span class="fl">0.7</span>),</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">row.names =</span> <span class="dv">1</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.4</span>, <span class="fl">0.4</span>, <span class="fl">0.2</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>MCDA<span class="sc">::</span><span class="fu">weightedSum</span>(data, weights)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;    A    B    C 
#&gt; 0.81 0.70 0.86</code></pre>
</div>
</div>
<p>The result give a single work efficiency index score for each hospital, making it easier to assess and compare their efficiency levels.</p>
</section>
<section id="analytic-hierarchy-process" class="level2" data-number="28.5">
<h2 data-number="28.5" class="anchored" data-anchor-id="analytic-hierarchy-process"><span class="header-section-number">28.5</span> Analytic hierarchy process</h2>
<p>The analytic hierarchy process (AHP) is a structured decision-making framework used to rank and prioritize complex decisions by decomposing them into a hierarchy of criteria and alternatives. Created by Thomas Saaty in the 1970s, AHP is especially useful in situations where qualitative and quantitative aspects must be considered together. AHP involves breaking down the decision problem, evaluating each component using pairwise comparisons, and calculating weights for each criterion and alternative to find an optimal solution.</p>
<p>Steps in the AHP:</p>
<ol type="1">
<li>Define the problem and goal: Clearly state the decision to be made and establish the overall goal.</li>
<li>Structure the hierarchy: Decompose the decision problem into a hierarchy, with the goal at the top level, criteria and sub-criteria (if applicable) in the middle, and alternatives at the bottom.</li>
<li>Pairwise comparison and priority calculation: Conduct pairwise comparisons of the criteria and alternatives at each level of the hierarchy. Use a scale of importance (usually 1 to 9, where 1 means equal importance and 9 indicates extreme importance of one element over another). For each criterion or alternative, calculate a priority vector (weight) based on the comparison results.</li>
<li>Consistency check: AHP includes a consistency index and consistency ratio to ensure judgments are not random or contradictory. The consistency ratio should typically be below 0.1 for the decision process to be considered reliable.</li>
<li>Calculate final scores: Combine the weights of each level to derive a final score for each alternative, helping to identify the best choice.</li>
</ol>
<div class="example">
<strong>Example 1</strong> 
<p>To evaluate the work quality of a hospital, the supervising department selects medical criteria, nursing criteria, and dietary criteria, to represent the overall goal. Each of these three sub-criteria is further represented by their sub-criteria. Figure 1 shows the target hierarchy for hospital work quality. Based on the data to assess the work quality of a hospital.</p>
</div>
<div>
<p><a href="datasets/ex28-01.csv" download="ex28-01.csv" class="btn btn-success"> <i class="bi bi-database-fill-down"></i> Download data </a></p>
</div>
<p>To create a hierarchical diagram, you can use the <code>visNetwork</code> package, which supports building hierarchical diagrams or tree structures for visualizing evaluation frameworks.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>nodes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">15</span>, </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="fu">c</span>(<span class="st">"Hospital Work Quality"</span>, </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Dietary Services"</span>, <span class="st">"Nursing Work"</span>, <span class="st">"Medical Services"</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Dietary Service Quality"</span>, <span class="st">"Nursing System"</span>, <span class="st">"Medical System"</span>,   </span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Medical Service Quality"</span>, <span class="st">"Bed Utilization"</span>,      </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Food Quality Rate"</span>, <span class="st">"Execution Excellence Rate"</span>, <span class="st">"Execution Excellence Rate"</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ICU Admission Rate"</span>, <span class="st">"Clinical Efficacy Rate"</span>, <span class="st">"Bed Occupancy Rate"</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">shape =</span> <span class="fu">c</span>(<span class="st">"ellipse"</span>, <span class="fu">rep</span>(<span class="st">"box"</span>, <span class="dv">14</span>)),</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="fu">rep</span>(<span class="st">"B"</span>, <span class="dv">3</span>), <span class="fu">rep</span>(<span class="st">"C"</span>, <span class="dv">5</span>), <span class="fu">rep</span>(<span class="st">"D"</span>, <span class="dv">6</span>)),</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">size =</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="fu">rep</span>(<span class="dv">30</span>, <span class="dv">3</span>), <span class="fu">rep</span>(<span class="dv">30</span>, <span class="dv">5</span>), <span class="fu">rep</span>(<span class="dv">20</span>, <span class="dv">6</span>))</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>edges <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">from =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">8</span>, <span class="dv">9</span>),</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">to   =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>, <span class="dv">13</span>, <span class="dv">14</span>, <span class="dv">15</span>),</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">arrows =</span> <span class="st">"to"</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Render the network</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(nodes, edges) <span class="sc">|&gt;</span> </span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visHierarchicalLayout</span>(</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">levelSeparation =</span> <span class="dv">70</span>,</span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">sortMethod =</span> <span class="st">"directed"</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="fu">list</span>(<span class="at">enabled =</span> T, <span class="at">degree =</span> <span class="dv">1</span>, <span class="at">hover =</span> T)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-tree-diagram" class="cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-tree-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="visNetwork html-widget html-fill-item" id="htmlwidget-ef432ad532571c623c91" style="width:100%;height:416px;"></div>
<script type="application/json" data-for="htmlwidget-ef432ad532571c623c91">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],"label":["Hospital Work Quality","Dietary Services","Nursing Work","Medical Services","Dietary Service Quality","Nursing System","Medical System","Medical Service Quality","Bed Utilization","Food Quality Rate","Execution Excellence Rate","Execution Excellence Rate","ICU Admission Rate","Clinical Efficacy Rate","Bed Occupancy Rate"],"shape":["ellipse","box","box","box","box","box","box","box","box","box","box","box","box","box","box"],"group":["A","B","B","B","C","C","C","C","C","D","D","D","D","D","D"],"size":[10,30,30,30,30,30,30,30,30,20,20,20,20,20,20]},"edges":{"from":[1,1,1,2,3,4,4,4,5,6,7,8,8,9],"to":[2,3,4,5,6,7,8,9,10,11,12,13,14,15],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"layout":{"hierarchical":{"enabled":true,"levelSeparation":70,"sortMethod":"directed"}},"interaction":{"hover":true,"zoomSpeed":1}},"groups":["A","B","C","D"],"width":null,"height":null,"idselection":{"enabled":false,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-tree-diagram-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;28.1: Hierarchical diagram of hospital work quality evaluation
</figcaption>
</figure>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"datasets/ex28-01.csv"</span>, <span class="at">show_col_types =</span> F) <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>(<span class="at">var =</span> <span class="st">"hosptl_code"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This package lets you model and analyse complex decision making problems according to the AHP framework.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>hospitalAHP <span class="ot">&lt;-</span> <span class="fu">Load</span>(<span class="st">"appendix/hospitl_quality.yml"</span>) </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">#Calculate(hospitalAHP)</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Analyze(hospitalAHP) </span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="fu">Visualize</span>(hospitalAHP)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item" id="htmlwidget-95652ca5a0a81c99b97b" style="width:100%;height:416px;"></div>
<script type="application/json" data-for="htmlwidget-95652ca5a0a81c99b97b">{"x":{"diagram":"digraph {\n\ngraph [rankdir = \"TB\"]\n\n\n\n  \"1\" [label = \"Hospital Work Quality\", tooltip = \"author: Frank Gao\ndescription: Evaluating the quality of hospital work based on multiple criteria.\n\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"2\" [label = \"Medical Work\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"3\" [label = \"Medical System\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"4\" [label = \"Excellent Execution Rate\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"5\" [label = \"Medical Quality\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"6\" [label = \"Clinical Efficacy\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"7\" [label = \"ICU Admission\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"8\" [label = \"Bed Occupancy\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"9\" [label = \"Bed Occupancy Rate\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"10\" [label = \"Dietary Supply\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"11\" [label = \"Dietary Quality\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"12\" [label = \"Excellent Supply Rate\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"13\" [label = \"Nursing Work\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"14\" [label = \"Nursing System\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"15\" [label = \"Excellent Execution Rate\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"honeydew4\", fillcolor = \"#F0FFF0\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"black\"] \n  \"16\" [label = \"Alternatives\", tooltip = \"\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"17\" [label = \"hospital.A\", tooltip = \"bed_occupancy: 95\nclinical_efficacy: 88.1\ncomplication_excellence: 74.7\nfood_quality: 41.3\nicu_admission: 15.4\nnursing_compliance: 54.7\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"18\" [label = \"hospital.B\", tooltip = \"bed_occupancy: 92\nclinical_efficacy: 91.2\ncomplication_excellence: 53.4\nfood_quality: 41.4\nicu_admission: 8.3\nnursing_compliance: 20.7\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"19\" [label = \"hospital.C\", tooltip = \"bed_occupancy: 94.8\nclinical_efficacy: 90\ncomplication_excellence: 61.9\nfood_quality: 22.8\nicu_admission: 7.9\nnursing_compliance: 26.1\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"20\" [label = \"hospital.D\", tooltip = \"bed_occupancy: 95.6\nclinical_efficacy: 94\ncomplication_excellence: 50\nfood_quality: 20\nicu_admission: 3.1\nnursing_compliance: 20\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"21\" [label = \"hospital.E\", tooltip = \"bed_occupancy: 89.1\nclinical_efficacy: 93.6\ncomplication_excellence: 61.9\nfood_quality: 34\nicu_admission: 9.5\nnursing_compliance: 27.4\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n  \"22\" [label = \"hospital.F\", tooltip = \"bed_occupancy: 77.4\nclinical_efficacy: 92.2\ncomplication_excellence: 67.1\nfood_quality: 30.3\nicu_admission: 3.7\nnursing_compliance: 35.5\n\", style = \"filled,rounded\", shape = \"box\", color = \"thistle4\", fillcolor = \"#D8BFD8\", penwidth = \"4\", fontname = \"helvetica\", fontcolor = \"\"] \n\"1\"->\"2\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"10\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"1\"->\"13\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"2\"->\"3\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"2\"->\"5\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"2\"->\"8\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"10\"->\"11\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"13\"->\"14\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"3\"->\"4\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"5\"->\"6\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"5\"->\"7\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"8\"->\"9\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"11\"->\"12\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"14\"->\"15\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"4\"->\"16\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"6\"->\"16\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"7\"->\"16\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"9\"->\"16\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"12\"->\"16\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"15\"->\"16\" [arrowhead = \"vee\", color = \"grey35\", penwidth = \"2\", penwidth = \"2\"] \n\"16\"->\"17\" [penwidth = \"2\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"16\"->\"18\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"16\"->\"19\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"16\"->\"20\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"16\"->\"21\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n\"16\"->\"22\" [dir = \"none\", color = \"grey35\", penwidth = \"2\", dir = \"none\"] \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>carAHP <span class="ot">&lt;-</span> <span class="fu">Load</span>(<span class="st">"appendix/car1.yml"</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">Calculate</span>(carAHP)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Visualize(carAHP)</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#AnalyzeTable(carAHP) </span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="fu">Analyze</span>(carAHP) <span class="sc">|&gt;</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<colgroup>
<col style="width: 25%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 12%">
<col style="width: 5%">
<col style="width: 7%">
<col style="width: 13%">
<col style="width: 5%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Weight</th>
<th style="text-align: right;">Odyssey</th>
<th style="text-align: right;">Accord Sedan</th>
<th style="text-align: right;">CR-V</th>
<th style="text-align: right;">Element</th>
<th style="text-align: right;">Accord Hybrid</th>
<th style="text-align: right;">Pilot</th>
<th style="text-align: right;">Inconsistency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Buy Car</td>
<td style="text-align: right;">100.0%</td>
<td style="text-align: right;">22.0%</td>
<td style="text-align: right;">21.0%</td>
<td style="text-align: right;">16.3%</td>
<td style="text-align: right;">15.1%</td>
<td style="text-align: right;">14.1%</td>
<td style="text-align: right;">11.5%</td>
<td style="text-align: right;">7.5%</td>
</tr>
<tr class="even">
<td style="text-align: left;">¦–Cost</td>
<td style="text-align: right;">51.0%</td>
<td style="text-align: right;">5.9%</td>
<td style="text-align: right;">11.7%</td>
<td style="text-align: right;">11.7%</td>
<td style="text-align: right;">12.9%</td>
<td style="text-align: right;">4.8%</td>
<td style="text-align: right;">4.0%</td>
<td style="text-align: right;">1.5%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">¦ ¦–Purchase Price</td>
<td style="text-align: right;">24.9%</td>
<td style="text-align: right;">2.3%</td>
<td style="text-align: right;">6.1%</td>
<td style="text-align: right;">6.1%</td>
<td style="text-align: right;">9.1%</td>
<td style="text-align: right;">0.6%</td>
<td style="text-align: right;">0.6%</td>
<td style="text-align: right;">6.8%</td>
</tr>
<tr class="even">
<td style="text-align: left;">¦ ¦–Fuel Cost</td>
<td style="text-align: right;">12.8%</td>
<td style="text-align: right;">2.2%</td>
<td style="text-align: right;">1.9%</td>
<td style="text-align: right;">2.1%</td>
<td style="text-align: right;">2.3%</td>
<td style="text-align: right;">1.7%</td>
<td style="text-align: right;">2.6%</td>
<td style="text-align: right;">0.0%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">¦ ¦–Resale Value</td>
<td style="text-align: right;">8.2%</td>
<td style="text-align: right;">1.1%</td>
<td style="text-align: right;">1.9%</td>
<td style="text-align: right;">2.9%</td>
<td style="text-align: right;">1.1%</td>
<td style="text-align: right;">0.9%</td>
<td style="text-align: right;">0.3%</td>
<td style="text-align: right;">3.2%</td>
</tr>
<tr class="even">
<td style="text-align: left;">¦ °–Maintenance Cost</td>
<td style="text-align: right;">5.1%</td>
<td style="text-align: right;">0.3%</td>
<td style="text-align: right;">1.8%</td>
<td style="text-align: right;">0.5%</td>
<td style="text-align: right;">0.4%</td>
<td style="text-align: right;">1.6%</td>
<td style="text-align: right;">0.4%</td>
<td style="text-align: right;">2.3%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">¦–Safety</td>
<td style="text-align: right;">23.4%</td>
<td style="text-align: right;">10.2%</td>
<td style="text-align: right;">5.1%</td>
<td style="text-align: right;">0.8%</td>
<td style="text-align: right;">0.5%</td>
<td style="text-align: right;">5.1%</td>
<td style="text-align: right;">1.8%</td>
<td style="text-align: right;">8.0%</td>
</tr>
<tr class="even">
<td style="text-align: left;">¦–Capacity</td>
<td style="text-align: right;">21.5%</td>
<td style="text-align: right;">5.7%</td>
<td style="text-align: right;">2.8%</td>
<td style="text-align: right;">3.1%</td>
<td style="text-align: right;">1.5%</td>
<td style="text-align: right;">2.8%</td>
<td style="text-align: right;">5.6%</td>
<td style="text-align: right;">0.0%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">¦ ¦–Passenger Capacity</td>
<td style="text-align: right;">17.9%</td>
<td style="text-align: right;">4.9%</td>
<td style="text-align: right;">2.4%</td>
<td style="text-align: right;">2.4%</td>
<td style="text-align: right;">0.8%</td>
<td style="text-align: right;">2.4%</td>
<td style="text-align: right;">4.9%</td>
<td style="text-align: right;">0.0%</td>
</tr>
<tr class="even">
<td style="text-align: left;">¦ °–Cargo Capacity</td>
<td style="text-align: right;">3.6%</td>
<td style="text-align: right;">0.8%</td>
<td style="text-align: right;">0.3%</td>
<td style="text-align: right;">0.7%</td>
<td style="text-align: right;">0.7%</td>
<td style="text-align: right;">0.3%</td>
<td style="text-align: right;">0.7%</td>
<td style="text-align: right;">0.4%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">°–Style</td>
<td style="text-align: right;">4.1%</td>
<td style="text-align: right;">0.3%</td>
<td style="text-align: right;">1.5%</td>
<td style="text-align: right;">0.6%</td>
<td style="text-align: right;">0.1%</td>
<td style="text-align: right;">1.5%</td>
<td style="text-align: right;">0.2%</td>
<td style="text-align: right;">10.1%</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="topsis" class="level2" data-number="28.6">
<h2 data-number="28.6" class="anchored" data-anchor-id="topsis"><span class="header-section-number">28.6</span> TOPSIS</h2>
<p>TOPSIS (Technique for Order Preference by Similarity to an Ideal Solution) is a multi-criteria decision analysis technique designed to help decision-makers select the best option among several by comparing each option’s closeness to an ideal solution and a negative-ideal solution. The ideal solution is defined as the best possible value for each criterion, and the negative-ideal solution as the worst possible value.</p>
<p>Steps of TOPSIS：</p>
<p>1. Construct the decision matrix: Create a matrix where rows represent different alternatives and columns represent criteria to be evaluated.</p>
<p>2. Normalize the decision matrix: To eliminate the effect of different units among criteria, normalize the matrix, typically using vector normalization:</p>
<p><span class="math display">
r_{ij} = \frac{X_{ij}}{\sqrt{\sum_{i=1}^m X_{ij}^2}}
</span></p>
<p>where <span class="math inline">r_{ij}</span> is the normalized value, <span class="math inline">x_{ij}</span> is the original score, and m is the number of alternatives.</p>
<p>3. Create the weighted normalized matrix: Apply weights <span class="math inline">w_j</span> to each criterion to reflect their relative importance:</p>
<p><span class="math display">
v_{ij} = w_j \cdot r_{ij}
</span></p>
<p>4. Determine the ideal and negative-ideal solutions: The ideal solution <span class="math inline">A^+</span>is maximum value for benefit-type criteria and minimum for cost-type criteria. The negative-ideal solution <span class="math inline">A^-</span> is minimum value for benefit-type criteria and maximum for cost-type criteria.</p>
<p>5. Calculate distance to ideal and negative-ideal solutions: Compute the Euclidean distance of each alternative <span class="math inline">i</span> from the ideal <span class="math inline">A^+</span> and negative-ideal <span class="math inline">A^-</span> solutions:</p>
<p><span class="math display">
S_i^+ = \sqrt{\sum_{j=1}^n (v_{ij} - A_j^+)^2}
</span></p>
<p><span class="math display">
S_i^- = \sqrt{\sum_{j=1}^n (v_{ij} - A_j^-)^2}
</span></p>
<p>6. Calculate the relative closeness: Evaluate each alternative’s relative closeness <span class="math inline">C_i</span> to the ideal solution:</p>
<p><span class="math display">
C_i = \frac{S_i^-}{S_i^+ + S_i^-}
</span></p>
<p>A value closer to 1 indicates a better option closer to the ideal solution.</p>
<p>7. Rank alternatives: Rank alternatives by their <span class="math inline">C_i</span> values, where the highest score indicates the best choice.</p>
<div class="example">
<strong>Example 2</strong> 
<p>The data below is from six districts of a city in 2018 on the quality of emergency response work for public health incidents. Please conduct a comprehensive evaluation using the 4 indicators: event discovery sensitivity, disposal effect index, standardized report index, and report timeliness.</p>
</div>
<div>
<p><a href="datasets/ex28-02.csv" download="ex28-02.csv" class="btn btn-success"> <i class="bi bi-database-fill-down"></i> Download data </a></p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"datasets/ex28-02.csv"</span>, <span class="at">show_col_types =</span> F) <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>(<span class="st">"district"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>)  </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>impacts <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"-"</span>, <span class="st">"-"</span>, <span class="st">"+"</span>, <span class="st">"-"</span>) </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>topsis<span class="sc">::</span><span class="fu">topsis</span>(<span class="fu">as.matrix</span>(df), weights, impacts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;   alt.row     score rank
#&gt; 1       1 0.6900941    3
#&gt; 2       2 0.6218473    4
#&gt; 3       3 0.7853366    2
#&gt; 4       4 0.9045940    1
#&gt; 5       5 0.3556175    6
#&gt; 6       6 0.5405404    5</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>topsis.m <span class="ot">&lt;-</span> <span class="cf">function</span> (<span class="at">data =</span> <span class="cn">NULL</span>, <span class="at">weights =</span> <span class="cn">NULL</span>, <span class="at">benefits =</span> <span class="cn">NULL</span>, <span class="at">method =</span> <span class="st">"recip"</span>) {</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Argument checks</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">missing</span>(data)) </span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"'data' must be provided and should be a numeric matrix or data frame"</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.matrix</span>(data) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.data.frame</span>(data)) </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>    data <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(data)</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(<span class="fu">rownames</span>(data)))</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames</span>(data) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"Sample_"</span>, <span class="dv">1</span><span class="sc">:</span>n)</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">missing</span>(benefits)) </span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"'benefits' must be provided as a character vector"</span>)</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(weights) <span class="sc">!=</span> <span class="fu">ncol</span>(data)) </span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"The length of 'weights' must equal the number of columns in 'data'"</span>)</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(benefits) <span class="sc">!=</span> <span class="fu">ncol</span>(data)) </span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"The length of 'benefits' must equal the number of columns in 'data'"</span>)</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">all</span>(weights <span class="sc">&gt;</span> <span class="dv">0</span>)) </span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"All 'weights' must be positive numbers"</span>)</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">all</span>(benefits <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"+"</span>, <span class="st">"-"</span>))) </span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"'benefits' must contain only '+' (benefit) or '-' (cost) indicators"</span>)</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Define normalization functions</span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a>  recip_norm <span class="ot">&lt;-</span> <span class="cf">function</span>(x, flag) {</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lapply</span>(<span class="fu">seq_along</span>(x), <span class="cf">function</span>(i) <span class="cf">if</span> (flag[i] <span class="sc">==</span> <span class="st">"+"</span>) x[[i]] <span class="cf">else</span> <span class="dv">1</span> <span class="sc">/</span> x[[i]])</span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>  iqr_norm <span class="ot">&lt;-</span> <span class="cf">function</span>(x, flag) {</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lapply</span>(<span class="fu">seq_along</span>(x), <span class="cf">function</span>(i) {</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>      q1 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(x[[i]], <span class="fl">0.25</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a>      q3 <span class="ot">&lt;-</span> <span class="fu">quantile</span>(x[[i]], <span class="fl">0.75</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (flag[i] <span class="sc">==</span> <span class="st">"+"</span>) (x[[i]] <span class="sc">-</span> q1) <span class="sc">/</span> (q3 <span class="sc">-</span> q1) </span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> (q3 <span class="sc">-</span> x[[i]]) <span class="sc">/</span> (q3 <span class="sc">-</span> q1)</span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a>  range_norm <span class="ot">&lt;-</span> <span class="cf">function</span>(x, flag) {</span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lapply</span>(<span class="fu">seq_along</span>(x), <span class="cf">function</span>(i) {</span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (flag[i] <span class="sc">==</span> <span class="st">"+"</span>) (x[[i]] <span class="sc">-</span> <span class="fu">min</span>(x[[i]])) <span class="sc">/</span> <span class="fu">diff</span>(<span class="fu">range</span>(x[[i]])) </span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> (<span class="fu">max</span>(x[[i]]) <span class="sc">-</span> x[[i]]) <span class="sc">/</span> <span class="fu">diff</span>(<span class="fu">range</span>(x[[i]]))</span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Apply chosen normalization method</span></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a>  norm_data <span class="ot">&lt;-</span> <span class="cf">switch</span>(</span>
<span id="cb16-43"><a href="#cb16-43" aria-hidden="true" tabindex="-1"></a>    method,</span>
<span id="cb16-44"><a href="#cb16-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">recip =</span> <span class="fu">recip_norm</span>(data, benefits),</span>
<span id="cb16-45"><a href="#cb16-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">iqr =</span> <span class="fu">iqr_norm</span>(data, benefits),</span>
<span id="cb16-46"><a href="#cb16-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">range =</span> <span class="fu">range_norm</span>(data, benefits),</span>
<span id="cb16-47"><a href="#cb16-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Unknown method specified"</span>)</span>
<span id="cb16-48"><a href="#cb16-48" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb16-49"><a href="#cb16-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-50"><a href="#cb16-50" aria-hidden="true" tabindex="-1"></a>  norm_data <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">do.call</span>(cbind, norm_data))  <span class="co"># Convert to matrix for calculations</span></span>
<span id="cb16-51"><a href="#cb16-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-52"><a href="#cb16-52" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Compute weighted normalized matrix</span></span>
<span id="cb16-53"><a href="#cb16-53" aria-hidden="true" tabindex="-1"></a>  A <span class="ot">&lt;-</span> <span class="fu">sweep</span>(norm_data, <span class="dv">2</span>, <span class="fu">sqrt</span>(<span class="fu">colSums</span>(norm_data<span class="sc">^</span><span class="dv">2</span>)), <span class="st">"/"</span>)</span>
<span id="cb16-54"><a href="#cb16-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-55"><a href="#cb16-55" aria-hidden="true" tabindex="-1"></a>  weights <span class="ot">&lt;-</span> weights <span class="sc">/</span> <span class="fu">sum</span>(weights)  <span class="co"># Normalize weights</span></span>
<span id="cb16-56"><a href="#cb16-56" aria-hidden="true" tabindex="-1"></a>  weightedA <span class="ot">&lt;-</span> A <span class="sc">*</span> weights</span>
<span id="cb16-57"><a href="#cb16-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-58"><a href="#cb16-58" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate positive and negative ideal solutions</span></span>
<span id="cb16-59"><a href="#cb16-59" aria-hidden="true" tabindex="-1"></a>  u <span class="ot">&lt;-</span> <span class="fu">apply</span>(weightedA, <span class="dv">2</span>, max)</span>
<span id="cb16-60"><a href="#cb16-60" aria-hidden="true" tabindex="-1"></a>  l <span class="ot">&lt;-</span> <span class="fu">apply</span>(weightedA, <span class="dv">2</span>, min)</span>
<span id="cb16-61"><a href="#cb16-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-62"><a href="#cb16-62" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Distance functions for positive and negative ideals</span></span>
<span id="cb16-63"><a href="#cb16-63" aria-hidden="true" tabindex="-1"></a>  du <span class="ot">&lt;-</span> <span class="fu">apply</span>(weightedA, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">sqrt</span>(<span class="fu">sum</span>((x <span class="sc">-</span> u)<span class="sc">^</span><span class="dv">2</span>)))</span>
<span id="cb16-64"><a href="#cb16-64" aria-hidden="true" tabindex="-1"></a>  dl <span class="ot">&lt;-</span> <span class="fu">apply</span>(weightedA, <span class="dv">1</span>, <span class="cf">function</span>(x) <span class="fu">sqrt</span>(<span class="fu">sum</span>((x <span class="sc">-</span> l)<span class="sc">^</span><span class="dv">2</span>)))</span>
<span id="cb16-65"><a href="#cb16-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-66"><a href="#cb16-66" aria-hidden="true" tabindex="-1"></a>  <span class="co"># TOPSIS score and ranking</span></span>
<span id="cb16-67"><a href="#cb16-67" aria-hidden="true" tabindex="-1"></a>  score <span class="ot">&lt;-</span> dl <span class="sc">/</span> (dl <span class="sc">+</span> du)</span>
<span id="cb16-68"><a href="#cb16-68" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb16-69"><a href="#cb16-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">data.frame</span>(</span>
<span id="cb16-70"><a href="#cb16-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="fu">rownames</span>(data),</span>
<span id="cb16-71"><a href="#cb16-71" aria-hidden="true" tabindex="-1"></a>    <span class="at">score =</span> score, </span>
<span id="cb16-72"><a href="#cb16-72" aria-hidden="true" tabindex="-1"></a>    <span class="at">rank =</span> <span class="fu">rank</span>(<span class="sc">-</span>score)))</span>
<span id="cb16-73"><a href="#cb16-73" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>topsis.m()</code> function is ready to execute the TOPSIS method with customizable normalization methods (<em>recip</em>, <em>iqr</em>, and <em>range</em>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>weights <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>)  </span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>benefits <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"-"</span>, <span class="st">"-"</span>, <span class="st">"+"</span>, <span class="st">"-"</span>) </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">topsis.m</span>(df, weights, benefits, <span class="at">method =</span> <span class="st">"recip"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;   name     score rank
#&gt; 1    A 0.4548596    3
#&gt; 2    B 0.4131845    5
#&gt; 3    C 0.5266299    2
#&gt; 4    D 0.8866854    1
#&gt; 5    E 0.4250024    4
#&gt; 6    F 0.2679408    6</code></pre>
</div>
</div>
</section>
<section id="rank-sum-ratio" class="level2" data-number="28.7">
<h2 data-number="28.7" class="anchored" data-anchor-id="rank-sum-ratio"><span class="header-section-number">28.7</span> Rank sum ratio</h2>
<p>The rank sum ratio (RSR) method is a multi-criteria decision-making technique often used to evaluate and rank objects based on multiple indicators or criteria. The method works by ranking each object on each criterion, calculating a total rank for each object, and then normalizing these totals to produce a ratio between 0 and 1. This ratio is called the RSR, and it is a relative measure of how each object performs across the criteria. Here’s a step-by-step breakdown of how the RSR method works:</p>
<p>1. Calculate ranks</p>
<p>Assume there are <span class="math inline">m</span> indicators and <span class="math inline">n</span> evaluation objects, forming an <span class="math inline">n \times m</span> data matrix <span class="math inline">\mathbf X = [X_{ij}]</span> , where <span class="math inline">X_{ij}</span> represents the value of the <span class="math inline">i</span>-th object on the <span class="math inline">j</span>-th indicator. Obtain ranks <span class="math inline">R_{ij}</span> for each indicator in the matrix <span class="math inline">\mathbf X = [X_{ij}]</span>, which indicates the rank of the <span class="math inline">i</span>-th object under the <span class="math inline">j</span>-th indicator.</p>
<p>2. Calculate weighted rank sum</p>
<p>Multiply each rank by its corresponding weight (if weights are assigned to indicators). Sum the weighted ranks for each sample:, yielding a total rank <span class="math inline">R_i</span>:</p>
<p><span class="math display">
R_i = \sum_{j=1}^{m} w_jR_{ij}
</span></p>
<p>3. Calculate the rank sum ratio</p>
<p>Normalize the rank sum by dividing by the product of the sample count and the total weight sum. The RSR for each sample is:</p>
<p><span class="math display">
RSR_i = \frac{R_i}{n \cdot \sum_{j=1}^m w_j}
</span></p>
<p>This gives an <span class="math inline">RSR_i</span> value on a <span class="math inline">[0, 1]</span> scale, facilitating comparison and interpretation.</p>
<ol start="5" type="1">
<li>Ranking and evaluation</li>
</ol>
<p>Objects are ranked and categorized based on <span class="math inline">RSR_i</span> values; a higher value indicates a better overall performance across indicators.</p>
<div class="example">
<strong>Example 3</strong> 
<p>The data below is collected from a province for a given year, including prenatal check-up rate X1 (%), maternal mortality rate X2 (per 100,000), and perinatal mortality rate X3 (‰) across 10 regions. Perform a comprehensive evaluation based on the three indicators.</p>
</div>
<div>
<p><a href="datasets/ex28-03.csv" download="ex28-03.csv" class="btn btn-success"> <i class="bi bi-database-fill-down"></i> Download data </a></p>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"datasets/ex28-03.csv"</span>, <span class="at">show_col_types =</span> F) <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">column_to_rownames</span>(<span class="at">var =</span> <span class="st">"area"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There is no built-in function in R for RSR, here we write a function named <code>rsr()</code> to implement RSR:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>rsr <span class="ot">&lt;-</span> <span class="cf">function</span>(data, <span class="at">weights =</span> <span class="cn">NULL</span>, <span class="at">direction =</span> <span class="fu">c</span>(<span class="st">"+"</span>, <span class="st">"-"</span>), <span class="at">grades =</span> <span class="dv">3</span>) {</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.data.frame</span>(data)) {</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Input data must be a data frame."</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(data)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  m <span class="ot">&lt;-</span> <span class="fu">ncol</span>(data)</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Assign row names if not provided</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.null</span>(<span class="fu">rownames</span>(data))) <span class="fu">rownames</span>(data) <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"Sample_"</span>, <span class="dv">1</span><span class="sc">:</span>n)</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Handle weights</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>  weights <span class="ot">&lt;-</span> <span class="cf">if</span> (<span class="fu">is.null</span>(weights)) <span class="fu">rep</span>(<span class="dv">1</span> <span class="sc">/</span> m, m) <span class="cf">else</span> weights <span class="sc">/</span> <span class="fu">sum</span>(weights)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">length</span>(weights) <span class="sc">!=</span> m) </span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">stop</span>(<span class="st">"Length of weights must match the number of columns in data."</span>)</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Direction ("+" means bigger is better, "-" means smaller is better)</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>  direction <span class="ot">&lt;-</span> <span class="fu">rep</span>(direction, <span class="at">length.out =</span> m)</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate the rank of each indicator</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  ranks <span class="ot">&lt;-</span> <span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span>m, <span class="cf">function</span>(j) {</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (direction[j] <span class="sc">==</span> <span class="st">"+"</span>) <span class="fu">rank</span>(data[[j]]) <span class="cf">else</span> <span class="fu">rank</span>(<span class="sc">-</span>data[[j]])</span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Convert a list to a matrix</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a>  ranks <span class="ot">&lt;-</span> <span class="fu">do.call</span>(cbind, ranks)</span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate the weighted rank sum</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a>  weighted_ranks <span class="ot">&lt;-</span> <span class="fu">sweep</span>(ranks, <span class="dv">2</span>, weights, <span class="st">"*"</span>)</span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a>  rsr <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(weighted_ranks)</span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Standardize RSR values</span></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a>  rsr <span class="ot">&lt;-</span> rsr <span class="sc">/</span> (n <span class="sc">*</span> <span class="fu">sum</span>(weights))</span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a>  sort <span class="ot">&lt;-</span> <span class="fu">rank</span>(<span class="sc">-</span>rsr)</span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Adjust tie ranking</span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a>  adjust_ties <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a>    unique_x <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(x))</span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">match</span>(x, unique_x)) </span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a>  sort <span class="ot">&lt;-</span> <span class="fu">adjust_ties</span>(sort)</span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>  <span class="co"># sort by grading</span></span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>  bucket_lbl <span class="ot">&lt;-</span> <span class="fu">cut</span>(<span class="sc">-</span>rsr, <span class="at">breaks =</span> grades, <span class="at">labels =</span> F, <span class="at">include.lowest =</span> T)</span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a>  result <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">name =</span> <span class="fu">rownames</span>(data), <span class="at">ranks =</span> ranks, <span class="at">rsr =</span> rsr, </span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">sort =</span> sort, <span class="at">grade =</span> bucket_lbl</span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">class</span>(result) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"rsr"</span>, <span class="st">"data.frame"</span>)  <span class="co"># 为结果添加类</span></span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(result)</span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>directions <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"+"</span>, <span class="st">"-"</span>, <span class="st">"-"</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rsr</span>(df, <span class="at">direction =</span> directions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt;    name ranks.1 ranks.2 ranks.3       rsr sort grade
#&gt; 1     A      10       2       6 0.6000000    4     2
#&gt; 2     B       7       3       2 0.4000000    7     2
#&gt; 3     C       9       7       7 0.7666667    2     1
#&gt; 4     D       3       4       5 0.4000000    7     2
#&gt; 5     E       2       8       8 0.6000000    4     2
#&gt; 6     F       5       6       9 0.6666667    3     1
#&gt; 7     G       6       5       4 0.5000000    6     2
#&gt; 8     H       8       9      10 0.9000000    1     1
#&gt; 9     I       4      10       3 0.5666667    5     2
#&gt; 10    J       1       1       1 0.1000000    8     3</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/qbgaoo\.github\.io\/r4ms");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
      for (let i=0; i<annoteTargets.length; i++) {
        const annoteTarget = annoteTargets[i];
        const targetCell = annoteTarget.getAttribute("data-target-cell");
        const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
        const contentFn = () => {
          const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          if (content) {
            const tipContent = content.cloneNode(true);
            tipContent.classList.add("code-annotation-tip-content");
            return tipContent.outerHTML;
          }
        }
        const config = {
          allowHTML: true,
          content: contentFn,
          onShow: (instance) => {
            selectCodeLines(instance.reference);
            instance.reference.classList.add('code-annotation-active');
            window.tippy.hideAll();
          },
          onHide: (instance) => {
            unselectCodeLines();
            instance.reference.classList.remove('code-annotation-active');
          },
          maxWidth: 300,
          delay: [50, 0],
          duration: [200, 0],
          offset: [5, 10],
          arrow: true,
          appendTo: function(el) {
            return el.parentElement.parentElement.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto',
          placement: 'right',
          popperOptions: {
            modifiers: [
            {
              name: 'flip',
              options: {
                flipVariations: false, // true by default
                allowedAutoPlacements: ['right'],
                fallbackPlacements: ['right', 'top', 'top-start', 'top-end', 'bottom', 'bottom-start', 'bottom-end', 'left'],
              },
            },
            {
              name: 'preventOverflow',
              options: {
                mainAxis: false,
                altAxis: false
              }
            }
            ]        
          }      
        };
        window.tippy(annoteTarget, config); 
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./multilevel-model.html" class="pagination-link" aria-label="Multilevel model">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Multilevel model</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./community-intervention.html" class="pagination-link" aria-label="Community intervention trials">
        <span class="nav-page-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Community intervention trials</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://qbgaoo.github.io/r4ms/edit/main/comprehensive-evaluation.qmd" class="toc-action"><i class="bi bi-git"></i>Edit this page</a></li><li><a href="https://qbgaoo.github.io/r4ms/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer><script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>